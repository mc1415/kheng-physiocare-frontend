const translations = {
  en: {
    adminPortal: 'Admin Portal',
    signInPrompt: 'Please sign in to continue',
    emailAddress: 'Email Address',
    password: 'Password',
    signIn: 'Sign In',
    invalidCredentials: 'Invalid credentials. Please try again.',
    dashboard: 'Dashboard',
    appointments: 'Appointments',
    patients: 'Patients',
    billing: 'Billing',
    exercises: 'Exercises',
    inventory: 'Inventory',
    staff: 'Staff',
    settings: 'Settings',
    logout: 'Logout',
    searchPlaceholder: 'Search...',
    generalReport: 'General Report',
    consultations: 'Consultations',
    last30Days: 'Last 30 Days',
    todaysRevenue: "TODAY'S REVENUE",
    appointmentsToday: 'APPOINTMENTS TODAY',
    newPatientsToday: 'NEW PATIENTS TODAY',
    cancellationsToday: 'CANCELLATIONS TODAY',
    welcome: 'Welcome',
    yourExercisePlan: 'Your Exercise Plan',
    appointmentHistory: 'Appointment History',
    clinicInformation: 'Clinic Information',
    noAppointments: 'You have no upcoming appointments.',
    nextAppointment: 'Next Appointment',
    at: 'at',
    with: 'with',
    noExercises: 'You have no exercises assigned at the moment.',
    markAsDone: 'Mark as Done',
    completedToday: 'Completed Today!',
    saving: 'Saving...',
    noPastAppointments: 'No past appointments found.',
    loading: 'Loading...',
    newAppointment: 'New Appointment',
    saveAppointment: 'Save Appointment',
    delete: 'Delete',
    createInvoice: 'Create New Invoice',
    addExercise: 'Add New Exercise',
    allExercises: 'All Exercises',
    addProduct: 'Add New Product',
    allProducts: 'All Products',
    addStaff: 'Add New Staff',
    allStaff: 'All Staff Members',
    addPatient: 'Add New Patient',
    allPatients: 'All Patients',
    backToPatients: 'Back to All Patients',
    clinicalNotes: 'Clinical Notes'
  },
  km: {
    adminPortal: '\u1795\u1784\u17d2\u1780\u17c6\u17d2\u1784\u17b7\u1789\u17cb\u17a0\u17b6\u1789\u17d2\u1781\u17b7\u179a\u1784',
    signInPrompt: '\u179f\u17bb\u1793\u1796\u17bb\u1793\u1784\u17d2\u1780\u17b6\u179a\u17a0\u17b6\u1789\u17d2\u1781\u17b7\u179a\u17b7\u179f\u17b6\u17c6\u1780\u17d2\u179b\u17c2\u1793',
    emailAddress: '\u17a2\u17b6\u179f\u1799\u17b6\u178a\u17c9\u1793\u17b7\u179b\u200b\u1797\u17b6\u178f\u17bb\u179b',
    password: '\u1796\u17d2\u179a\u1780\u17d2\u179a\u17c4\u1799\u179f\u1798\u1784\u17cb\u1791\u1784\u17cb',
    signIn: '\u1785\u17bb\u179b',
    invalidCredentials: '\u1796\u17bc\u1798\u1794\u17d2\u179a\u1784\u17cb\u179c\u17b7\u1793\u17cb\u1791\u17c0\u1784\u17a0\u17d2\u1798\u17c2\u1793\u179f\u17bb\u1793\u1796\u17bb\u1793\u1784\u17d2\u1780\u17b6\u179a\u1794\u17cb\u1791\u17c0\u1784',
    dashboard: '\u1795\u1784\u17d2\u1780\u17c6\u17d2\u1784\u17b7\u1789\u17cb\u17a0\u17b6\u1789\u17d2\u1781\u17b7\u179a\u1784',
    appointments: '\u1780\u17b6\u179a\u1793\u17b6\u178f\u17cb\u1796\u1780\u17d2\u179f',
    patients: '\u17a2\u1793\u1785\u1789\u17b7\u1793\u17cb',
    billing: '\u179c\u17b7\u1782\u17d2\u1782\u17b6\u1799\u1794\u178f\u17d2\u178f\u179a',
    exercises: '\u179b\u17d2\u1798\u17b6\u179a\u1794\u17b6\u1793',
    inventory: '\u179f\u17b6\u179a\u1796\u17c9\u17bb\u1799\u1794\u17c4\u1793',
    staff: '\u1794\u17bc\u1780\u1781\u17d2\u1780\u17bb\u179b\u17b8\u1780',
    settings: '\u1780\u17b6\u179a\u1780\u17c6\u17d2\u1784\u17b7\u1789\u17cb',
    logout: '\u1785\u17b7\u1793\u17b8\u1780',
    searchPlaceholder: '\u179f\u17d2\u179c\u17c1\u1784\u1780\u17d2\u1780\u17c2...',
    generalReport: '\u179a\u1794\u17b6\u1799\u1780\u17b6\u179a\u17d2\u1799\u1780\u17d2\u179b\u17c2\u1793',
    consultations: '\u1780\u17b6\u179a\u1796\u17d0\u179a\u17d2\u179c\u1780\u17d2\u179a\u17b6\u1784\u1784\u17d2\u179a',
    last30Days: '\u17ed\u1793\u17b6\u179a ៣០ \u1787\u17b6\u179f\u17d2\u179a\u179f\u17bc\u1785',
    todaysRevenue: '\u1785\u17c6\u17b6\u1793\u17b6\u1784\u179f\u17c0\u1780\u1798\u17c2\u1793',
    appointmentsToday: '\u1780\u17b6\u179a\u1793\u17b6\u178f\u17cb\u1796\u1780\u17d2\u179f\u1785\u17c6\u17b6\u1793\u17b6\u1784\u179f\u17c0\u1780',
    newPatientsToday: '\u17a2\u1793\u1785\u1789\u17b7\u1793\u17cb\u1794\u17b6\u1780\u1785\u17c6\u17b6\u1793\u17b6\u1784\u179f\u17c0\u1780',
    cancellationsToday: '\u1780\u17c6\u17d2\u1782\u17b6\u179a\u179f\u17c4\u1793\u1785\u17c6\u17b6\u1793\u17b6\u1784\u179f\u17c0\u1780',
    welcome: '\u179f\u17bb\u1795\u179f\u17bd\u1780\u1798\u17c9',
    yourExercisePlan: '\u1795\u17bb\u1780\u1787\u17b6\u1780\u17b6\u1793\u1799\u1780\u17b6\u179a\u1794\u17b6\u1793\u200b\u1794\u1793\u17d2\u1780\u17b6\u1793',
    appointmentHistory: '\u1794\u17b6\u1798\u17d2\u1782\u17b6\u1793\u17d2\u179c\u1796\u1780\u17d2\u179f',
    clinicInformation: '\u1796\u17d2\u179b\u17b8\u1780\u1780\u17b6\u179a\u1780\u17d2\u179a\u17c3\u1780\u17b6\u178f\u1780\u17d2\u179a',
    noAppointments: '\u17a2\u17b6\u1780\u1780\u17b6\u179a\u17af\u1780\u179a\u17b6\u1780\u1790\u17d2\u179c\u17b6\u1793\u1794\u17c4\u1793',
    nextAppointment: '\u1780\u17b6\u179a\u1793\u17b6\u178f\u17cb\u1796\u1780\u17d2\u179f\u1798\u17b6\u1780\u1780\u17b6\u1791\u17b7\u1793',
    at: '\u17a2\u17d2\u179c',
    with: '\u1780\u178f\u17d2\u1791\u17c4\u1793',
    noExercises: '\u17a2\u17b6\u1780\u1780\u17b6\u179a\u17af\u1780\u179b\u17b7\u1782\u17d2\u179b\u1794\u1793\u17d2\u1780\u17b6\u1793',
    markAsDone: '\u179f\u17bb\u1798\u17d2\u1797\u1797\u17d2\u1794\u17cb\u1780\u17b6\u1793\u17af\u1780',
    completedToday: '\u1794\u17b6\u1793\u1785\u17c6\u17b6\u1793\u17b6\u1784\u179f\u17c0\u1780',
    saving: '\u1780\u17d2\u179a\u17b6\u1791\u17b9\u1780\u17cb\u179a\u17b6\u1780...',
    noPastAppointments: '\u1794\u17b6\u1798\u17d2\u1782\u17b6\u1793\u179f\u17c0\u1780\u17af\u1780\u1796\u1780\u17d2\u179f\u1780\u17b6\u1794\u17cb',
    loading: '\u1780\u17c6\u17b6\u1793\u17b6\u1784\u179f\u17c0\u1780',
    newAppointment: '\u1780\u17b6\u179a\u1793\u17b6\u178f\u17cb\u1796\u1780\u17d2\u179f\u1796\u17d2\u179c\u17c2',
    saveAppointment: '\u179a\u17b6\u1791\u17c2\u179c\u17d2\u1784\u17cb\u1780\u17b6\u179a\u1793\u17b6\u178f\u17cb',
    delete: '\u179b\u17bb\u1794',
    createInvoice: '\u1794\u17b6\u1780\u179a\u17d2\u1799\u17b6\u1780\u1794\u178f\u17d2\u178f\u179a\u1792\u17bc\u1795',
    addExercise: '\u1794\u17b6\u1780\u1794\u17b6\u1793\u17bb\u1780\u1798\u17d2\u1780\u1794\u1793\u17d2\u1780\u17b6\u1793\u1792\u17bc\u1795',
    allExercises: '\u179b\u17d2\u1798\u17b6\u179a\u1794\u17b6\u1793\u179f\u17c0\u1780',
    addProduct: '\u1794\u17b6\u1780\u1780\u17b6\u179a\u1794\u1793\u17d2\u1780\u17b6\u1793\u1780\u17b6\u1791\u17b8',
    allProducts: '\u1794\u1793\u17d2\u1780\u17b6\u1793\u179f\u17c0\u1780',
    addStaff: '\u1794\u17b6\u1780\u1794\u1780\u178f\u17d2\u1791\u17b8\u1780\u1798\u17d2\u1780\u1794\u1793\u17d2\u1780\u17b6\u1793',
    allStaff: '\u1794\u17bc\u1780\u1781\u17d2\u1780\u17bb\u179b\u17b8\u1780\u179f\u17c0\u1780',
    addPatient: '\u1794\u17b6\u1780\u179a\u17b7\u179f\u17b6\u1794\u1793\u17d2\u1780\u17b6\u1793\u1780\u17b6\u1791\u17b8',
    allPatients: '\u17a2\u1793\u1785\u1789\u17b7\u1793\u17cb\u179f\u17c0\u1780',
    backToPatients: '\u1792\u17d2\u179a\u17bd\u179b\u1794\u1793\u17d2\u1780\u17b6\u1793\u17a2\u1793\u1785\u1789\u17b7\u1793\u17cb\u179f\u17c0\u1780',
    clinicalNotes: '\u1780\u1793\u17d2\u178e\u17bc\u179b\u1780\u17c6\u179a\u17b8\u179f\u17bc\u1787\u17b7\u1790'
  }
};

function t(key) {
  const lang = localStorage.getItem('lang') || 'en';
  return translations[lang][key] || translations['en'][key] || key;
}

function translatePage() {
  const lang = localStorage.getItem('lang') || 'en';
  document.documentElement.setAttribute('lang', lang);
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    const translation = t(key);
    if (el.tagName.toLowerCase() === 'input' || el.tagName.toLowerCase() === 'textarea') {
      el.value = translation;
    } else {
      el.textContent = translation;
    }
  });
  document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
    const key = el.getAttribute('data-i18n-placeholder');
    el.placeholder = t(key);
  });
  const selector = document.getElementById('language-select');
  if (selector) selector.value = lang;
}

function setLanguage(lang) {
  localStorage.setItem('lang', lang);
  translatePage();
}

document.addEventListener('DOMContentLoaded', translatePage);

window.setLanguage = setLanguage;
window.translatePage = translatePage;
window.t = t;
